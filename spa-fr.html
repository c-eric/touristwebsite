<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Old Port of Montréal</title>
  <link rel="stylesheet" type="text/css" href="spa_style.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@600&display=swap" rel="stylesheet">

  <link rel="icon" href="img/favicon.ico" />
</head>

<body>
  <nav>
    <img class="logo" src="img/logo-mtl-fr.png" alt="">

    <div class="link">
      <a href="#sec-2">À propos</a>
      <a href="#sec-3">Activités</a>
      <a href="#sec-4">Billets</a>
      <a href="#sec-5">Commentaires</a>
      <a href="#sec-6">Information</a>
      <a id="lang-toggle" href="spa-en.html">EN</a>
    </div>
  </nav>

  <div id="tracker"></div>

  <section class="section" id="sec-1">
    <h1 class="headline">
      Une aventure vous attend!
    </h1>
  </section>

  <section class="section" id="sec-2">
    <div class="about">
      <h1 class="title">
        À propos
      </h1>
      <p>
        Au Québec, cette importante attraction touristique et événementielle attire chaque année plus de six millions de
        visiteurs. Le Vieux-Port accueille aussi toutes sortes d’activités culturelles et de divertissement, dont entre autres
        des événements culinaires, sportifs et musicaux ainsi que des festivals en plein air. De plus, il est l’hôte de
        plusieurs attractions très populaires dont la Grande Roue de Montréal, Bota Bota spa-sur-l’eau, Voiles en voiles ainsi
        que les Terrasses Bonsecours.
        <br>
        <br>
      Situé entre le Vieux-Montréal et le fleuve Saint-Laurent sur une étendue de 2,5 kilomètres, ce site historique est un
      lieu de rendez-vous incontournable pour les Montréalais et les touristes, qui peuvent profiter de sa promenade, de ses
      espaces verts et de sa programmation effervescente. Le Vieux-Port est également l’hôte d’événements de grande envergure,
      comme les spectacles du Cirque du Soleil, Igloofest, la fête du Canada et les célébrations du Nouvel An, qui ont lieu
      sur les berges du fleuve.
      </p>
    </div>
    <img class="banner hidden" src="img/mtl-banner.png" alt="">
  </section>

  <section class="section" id="sec-3">
    <div class="activities">
      <h1 class="title">
        Activités
      </h1>

      <div class="act-1">
        <div class="grid-1">

          <img class="hidden" src="img/gr-mtl.jpg" alt="">

          <div class="text">
            <h2 class="subtitle">
              LA GRANDE ROUE DE MONTRÉAL
            </h2>
            <p>
              À la fine pointe de la technologie, la Grande Roue de Montréal a été conçue pour vous faire profiter d’une vue
              exceptionnelle : grâce à ses 42 cabines dotées de vitres en verre trempé ultra-clair, vous pourrez admirer le panorama
              en détail quatre saisons par année. Votre confort y est assuré par un système qui tempère les cabines en hiver et les
              climatise en été.
              <br>
              <br>
              La Grande Roue de Montréal - la plus haute structure du genre au Canada - vous permet de contempler la ville à 60 mètres
              de hauteur.
            </p>
          </div>

        </div>
        <hr>
      </div>

      <div class="act-2">
        <div class="grid-2">

          <div class="text">
            <h2 class="subtitle">
              Voiles en Voiles
            </h2>
            <p>
              Voiles en Voiles est un parc d'aventures familial excitant qui propose des parcours à obstacles aériens, un mur
              d’escalade, un parc de jeux gonflable et une foule d’autres activités en plein air dans un univers de bateaux pirates.
              <br>
              <br>
              Toute la famille sera emballée par cette aventure amusante. Venez bouger, grimper, explorer en toute sécurité dans notre
              parc spécialement aménagé pour vous inviter à vous dépasser!
            </p>
          </div>

          <img class="hidden" src="img/vv-mtl.jpg" alt="">

        </div>
        <hr>
      </div>

      <div class="act-3">
        <div class="grid-1">

          <img class="hidden" src="img/zp-mtl.JPG" alt="">

          <div class="text">
            <h2 class="subtitle">
              TYROLIENNE MTL ZIPLINE
            </h2>
            <p>
              Faites l’essai du tout premier circuit urbain de tyrolienne à s’implanter dans une ville canadienne et découvrez
              Montréal à vol d’oiseau. Grâce à un parcours impressionnant qui survole l'île Bonsecours dans le Vieux-Port, une des
              zones touristiques les plus achalandées de la ville, vous pourrez vivre des sensations fortes comme nulles autres. Volez
              au-dessus de la métropole à la manière des super-héros en faisant l’expérience de cette aventure unique, sécuritaire et
              excitante pour toute la famille.
            </p>
          </div>
        </div>

      </div>
    </div>

  </section>

  <section class="section" id="sec-4">
    <div class="tickets">
      <h1 class="title-ticket">
        Billets
      </h1>
      <p class="p-ticket">
        <bold style="font-weight:bold; letter-spacing: 0.5px;"> Achetez vos billets dès maintenant! </bold>
        <br>

        La visitation au Vieux-Port est totalement gratuite! Cependant, si vous souhaitez participer aux activités, vous devez acheter
        des billets.
      </p>

      <div class="container">
        <form name="submit-to-google-sheet" method="post">
          <select id="activity" name="activity" required>
            <option value="" disabled selected>Choisissez une activité</option>
            <option value="GrandeRoue_FR">La Grande Roue de Montréal</option>
            <option value="VoilesEnVoiles_FR">Voiles en Voiles</option>
            <option value="TyrolieneMTL_FR">Tyrolienne MTL Zipline</option>
          </select>

          <div class="grid-ticket-1">
            <h2 class="ticket-age">Bébé </h2>
            <p class="ticket-desc">2 Ans et Moins </p>
            <input type="number" class="infant" name="infant" placeholder="Gratuit" disabled>
          </div>

          <div class="grid-ticket-1">
            <h2 class="ticket-age">Enfant - 6$</b></h2>
            <p class="ticket-desc">14 Ans et Moins</p>
            <input type="number" class="quantity" name="child_6$" placeholder="Quantité">
          </div>

          <div class="grid-ticket-1">
            <h2 class="ticket-age">Adulte - 12$</h2>
            <p class="ticket-desc">14 Ans et Plus </p>
            <input type="number" class="quantity" name="adult_12$" placeholder="Quantité">
          </div>

          <div class="grid-ticket-2">
            <input type="text" class="form_info" name="first_name" placeholder="Prénom" required>
            <input type="text" class="form_info" name="last_name" placeholder="Nom" required>
          </div>

          <input type="email" class="form_info" name="email" placeholder="Courriel" required>

          <button id="ticket-btn" type="submit">Commandez</button>
        </form>
      </div>

      <p class="js-success-message is-hidden">
        Succès! Vos billets ont été commandés. 
      </p>

    </div>

  </section>

  <section class="section" id="sec-5">
    <div class="reviews">
      <h1 class="title">
        Commentaires
      </h1>

      <div class="review-grid">

        <div class="review-box">
          <p class="review-text">
            Bel endroit à visiter en famille pendant l'été. De nombreux événements divertissants ont lieu à cet endroit chaque
            année. Vous devez définitivement y aller!
          </p>

          <p class="review-author">
            - Eric Chen
          </p>
        </div>

        <div class="review-box">
          <p class="review-text">
            J'adore venir à cet endroit chaque année, surtout la nuit! Durant la nuit, les lumières s'allument! C'est une vue époustouflante, encore meilleure si vous regardez de la grande roue!
          </p>

          <p class="review-author">
            - Bob Ross
          </p>
        </div>

        <div class="review-box">
          <p class="review-text">
            Un endroit rempli de plaisir! J'aime bien y aller de temps en temps pour me détendre avec des amis ou de la famille. Vous pouvez vous relaxer ou être énergique à cet endroit. Le Vieux-Port accueille tout le monde!
          </p>

          <p class="review-author">
            - John Cena
          </p>
        </div>

      </div>
    </div>
  </section>

  <section class="section" id="sec-6">
    <div class="contact">
      <h1 class="title-contact">
        Contactez-nous
      </h1>

      <div class="contact-grid">
        <div class="contact-info">
          <p class="contact-text">
            <b class="contact-title">Adresse:</b>
            <br>
            333 de la Commune Ouest, Montréal, Québec H2Y 2E2
            <br>
          </p>
          <p class="contact-text">
            <b class="contact-title">Courriel:</b>
            <br>
            information@vieuxportdemontreal.com
            <br>
          </p>
          <p class="contact-text">
            <b class="contact-title">Téléphone:</b>
            <br>
            514-496-PORT (7678) or 1 800 971-PORT (7678)
          </p>

          <button id="get-dir-btn">Obtenir les Directions</button>
        </div>

        <div id="map" class="hidden"></div>

      </div>

    </div>
  </section>

  <!-- MAP -->
  <script>
    //Map
    let map;
    let start;
    let destination;
    let directionMap;
    let directionService;
    let directionDisplay;

    function initMap() {
      let oldport = new google.maps.LatLng(45.5066881, -73.5519259);
      map = new google.maps.Map(document.getElementById("map"), {
        center: oldport,
        zoom: 15,
      });
      const marker = new google.maps.Marker({
        position: oldport,
        map: map,
        animation: google.maps.Animation.DROP,
      });
    }

    window.addEventListener("load", function () {
      const dirBtn = document.querySelector("#get-dir-btn");
      dirBtn.addEventListener("click", getDirections);
    });

    function getDirections() {
      navigator.geolocation.getCurrentPosition(function (position) {
        console.log(
          "You are located at:" +
          position.coords.latitude +
          "," +
          position.coords.longitude
        );
        start = new google.maps.LatLng(
          position.coords.latitude,
          position.coords.longitude
        );
        mapDirections(start);
      });
    }

    function mapDirections(start) {
      directionService = new google.maps.DirectionsService();
      directionDisplay = new google.maps.DirectionsRenderer();
      destination = new google.maps.LatLng(45.5066881, -73.5519259);
      directionDisplay.setMap(map);
      calcRoute(start, destination);
    }

    function calcRoute(start, destination) {
      let request = {
        origin: start,
        destination: destination,
        travelMode: google.maps.TravelMode.DRIVING,
      };

      directionService.route(request, function (response, status) {
        if (status == "OK") {
          directionDisplay.setDirections(response);
          let markerStart = new google.maps.Marker({
            position: start,
            map: map,
            label: "You are here!",
          });
          let markerDestination = new google.maps.Marker({
            position: destination,
            map: map,
            title: "Old Port",
            label: "Old Port of Montréal",
          });
        }
      });
    }
  </script>

  <!-- LANGUAGE TOGGLE -->
  <script>
    let sections = document.querySelectorAll(".section");
      let activeSection = "";

      let langToggle = document.querySelector("#lang-toggle");

      function updateScroll() {
        sections.forEach(function (section) {
          // figure out section is within my 1/2 page
          if (
            section.offsetTop - document.documentElement.scrollTop <
            window.innerHeight / 2
          ) {
            activeSection = section.id;
          }
        });

        requestAnimationFrame(updateScroll);
      }

      requestAnimationFrame(updateScroll);

      langToggle.addEventListener("click", function (event) {
        event.preventDefault();
        window.location.href = event.target.href + "#" + activeSection;
      });
  </script>

  <!-- IMAGE + MAP REVEAL -->
  <script>
      let tracker = document.querySelector("#tracker");
      let scrollTop = 0;


      function updateTracker() {
        // console.log(window.innerHeight);
        // console.log(document.documentElement.scrollTop);
        // console.log(document.querySelector('img').offsetTop);

        if (
          document.querySelectorAll("img")[0].offsetTop <
          window.innerHeight + document.documentElement.scrollTop
        ) {
          document.querySelectorAll("img")[0].classList.remove("hidden");
        } else {
          document.querySelectorAll("img")[0].classList.add("hidden");
        }

        if (
          document.querySelectorAll("img")[1].offsetTop <
          window.innerHeight + document.documentElement.scrollTop
        ) {
          document.querySelectorAll("img")[1].classList.remove("hidden");
        } else {
          document.querySelectorAll("img")[1].classList.add("hidden");
        }

        if (
          document.querySelectorAll("img")[2].offsetTop <
          window.innerHeight + document.documentElement.scrollTop
        ) {
          document.querySelectorAll("img")[2].classList.remove("hidden");
        } else {
          document.querySelectorAll("img")[2].classList.add("hidden");
        }

        if (
          document.querySelectorAll("img")[3].offsetTop <
          window.innerHeight + document.documentElement.scrollTop
        ) {
          document.querySelectorAll("img")[3].classList.remove("hidden");
        } else {
          document.querySelectorAll("img")[3].classList.add("hidden");
        }

        if (
          document.querySelectorAll("img")[4].offsetTop <
          window.innerHeight + document.documentElement.scrollTop
        ) {
          document.querySelectorAll("img")[4].classList.remove("hidden");
        } else {
          document.querySelectorAll("img")[4].classList.add("hidden");
        }

        if (
          document.querySelector("#map").offsetTop <
          window.innerHeight + document.documentElement.scrollTop
        ) {
          document.querySelector("#map").classList.remove("hidden");
        } else {
          document.querySelector("#map").classList.add("hidden");
        }
        requestAnimationFrame(updateTracker);
      }

      requestAnimationFrame(updateTracker);
  </script>

  <!-- SUBMIT FORM TO GOOGLE SHEETS -->
  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbwzkZ_hxZVwoSyPTDeDodokXcPC44LGJgk_Kmdc3mHbsciZIACjhpUipjuKJlTRKHJQ/exec";
    const form = document.forms["submit-to-google-sheet"];
    const successMessage = document.querySelector(".js-success-message");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      fetch(scriptURL, { method: "POST", body: new FormData(form) })
        .then((response) => showSuccessMessage(response))
    });


    function showSuccessMessage(response) {
      console.log("Success!", response);
      setTimeout(() => {
        successMessage.classList.remove("is-hidden");
        //loading.classList.add("is-hidden");
      }, 500);
    }
  </script>

  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8RfMs2iNHTAks2mxJKRdDFYp7Ndn8vkU&callback=initMap&libraries=&v=weekly"
    async>
    </script>

</body>
